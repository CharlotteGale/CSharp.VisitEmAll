@model VisitEmAll.ViewModels.SignUpViewModel

<div class="auth-wrapper">
  <div class="auth-page">
    <div class="auth-left">
      <h1 class="auth-brand-title">Visit 'Em All</h1>
      <p class="auth-brand-tagline">Explore the world!</p>
    </div>

    <form asp-action="SignUp" method="post" class="auth-card">
      <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

      <div class="mb-3">
        <input asp-for="Name" placeholder="Full Name" class="auth-form-field" required />
        <span asp-validation-for="Name" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input asp-for="Email" placeholder="Email Address" class="auth-form-field" required />
        <span asp-validation-for="Email" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input asp-for="Password" type="url" id="Password" type="password" placeholder="Password (Min 8 characters)" class="auth-form-field" required />
        <div id="password-help" class="text-danger small" style="margin-top: 6px;"></div>
        <span asp-validation-for="Password" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input asp-for="ConfirmPassword" type="password" placeholder="Confirm Password" class="auth-form-field" required />
        <span asp-validation-for="ConfirmPassword" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input asp-for="HomeTown" placeholder="Home Town (Optional)" class="auth-form-field" />
        <span asp-validation-for="HomeTown" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input asp-for="ProfileImageUrl" placeholder="Profile Image URL (Optional)" class="auth-form-field" />
        <span asp-validation-for="ProfileImageUrl" class="text-danger small"></span>
      </div>

      <div class="mb-3">
        <input id="signup-submit" type="submit" value="Create account" class="auth-submit-btn">
      </div>
      <button type="button"        
        onclick="window.location.href='@Url.Action("Login", "Auth")'"    class="auth-new-acc-btn">
        Log in here
      </button>
    </form>
  </div>
</div>

<script>
(function () {
    const passwordInput = document.getElementById("Password");
    const help = document.getElementById("password-help");
    const form = passwordInput?.closest("form");

    if (!passwordInput || !help || !form) return;

    const msg = "Password must be at least 8 characters and include uppercase, lowercase, a number, and a symbol.";

    function isStrong(pw) {
        if (!pw) return false;
        return pw.length >= 8 && 
              /[a-z]/.test(pw) && 
              /[A-Z]/.test(pw) && 
              /[0-9]/.test(pw) && 
              /[^a-zA-Z0-9]/.test(pw);
    }

    passwordInput.addEventListener("input", () => {
        const pw = passwordInput.value;
        help.textContent = (pw.length > 0 && !isStrong(pw)) ? msg : "";
    });

    form.addEventListener("submit", (e) => {
        if (!isStrong(passwordInput.value)) {
            e.preventDefault();
            help.textContent = msg;
            passwordInput.focus();
        }
    });
})();
</script>