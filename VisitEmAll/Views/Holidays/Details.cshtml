@model Holiday
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
  var currentUserId = HttpContextAccessor.HttpContext?.Session.GetInt32("User_Id");
}

<h1>@Model.Title</h1>
<p>Accomodation: @Model.Accommodation, @Model.Location </br> </p>

<h2>From: @Model.StartDate </br> Till: @Model.EndDate</h2>

<h3>Activities</h3>
<ul>
  @if (Model.Activities != null && Model.Activities.Any())
  {
    @foreach (Activity activity in Model.Activities)
    {
      <li>@activity.Name</li>
    }
  }
  else
  {
    <p>You did nothing but rest?</p>
  }
</ul>

<h4>Cost: @Model.Cost</h4>
@if (currentUserId != null && currentUserId == Model.UserId)
{
  <a asp-action="EditHoliday" asp-route-id="@Model.Id" class="btn btn-success">
    Click here to edit the details for this holiday
  </a>

  <br/>
  <form asp-action="Delete" asp-route-id="@Model.Id" method="post" style="display:inline;">
    @Html.AntiForgeryToken()
    <button type="submit" class="btn btn-danger"
            onclick="return confirm('Are you sure you want to delete this holiday?');">
      Remove Holiday
    </button>
  </form>
}